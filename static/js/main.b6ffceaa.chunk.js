(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,a,t){e.exports={ImageGalleryItem:"galleryItem_ImageGalleryItem__1zmpX",ImageGalleryItemImage:"galleryItem_ImageGalleryItemImage__3ULB2"}},11:function(e,a,t){e.exports={ButtonWrapper:"button_ButtonWrapper__1UHBn",Button:"button_Button__266hb"}},12:function(e,a,t){e.exports={Overlay:"modal_Overlay__2MBhQ",Modal:"modal_Modal__3ajSt"}},24:function(e,a,t){e.exports={ImageGallery:"imageGallery_ImageGallery__2MjwI"}},25:function(e,a,t){e.exports={App:"app_App__sLKST",Loader:"app_Loader__3cEfc"}},27:function(e,a,t){e.exports=t(70)},4:function(e,a,t){e.exports={Searchbar:"searchbar_Searchbar__3MR3k",SearchForm:"searchbar_SearchForm__3xoDe",SearchFormButton:"searchbar_SearchFormButton__F8fPP",SearchFormButtonLabel:"searchbar_SearchFormButtonLabel__1Ops-",SearchFormInput:"searchbar_SearchFormInput__1H5q7"}},70:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(22),l=t.n(o),c=t(5),m=t(3),s=t(6),i=t(7),u=t(9),p=t(8),d=t(23),g=t.n(d),h=t(4),f=t.n(h),y=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={value:""},e.handleChange=function(a){var t=a.target,n=t.name,r=t.value;e.setState(Object(c.a)({},n,r))},e.handleSubmit=function(a){a.preventDefault(),e.props.getNewQuery(e.state.value),e.setState({value:""})},e}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:f.a.Searchbar},r.a.createElement("form",{className:f.a.SearchForm,onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:f.a.SearchFormButton},r.a.createElement("span",{className:f.a.SearchFormButtonLabel},"Search")),r.a.createElement("input",{className:f.a.SearchFormInput,type:"text",name:"value",value:this.state.value,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChange})))}}]),t}(n.Component),b=t(10),v=t.n(b),_=function(e){var a=e.onOpenModal,t=e.url,n=e.largeUrl;return r.a.createElement("li",{className:v.a.ImageGalleryItem},r.a.createElement("img",{onClick:a,src:t,alt:"","data-large-url":n,className:v.a.ImageGalleryItemImage}))},I=t(24),S=t.n(I),O=function(e){var a=e.onOpenModal,t=e.images;return r.a.createElement("ul",{className:S.a.ImageGallery},t.map((function(e){var t=e.webformatURL,n=e.id,o=e.largeImageURL;return r.a.createElement(_,{key:n,largeUrl:o,url:t,onOpenModal:a})})))},M=t(11),E=t.n(M),w=function(e){var a=e.handleClick;return r.a.createElement("div",{className:E.a.ButtonWrapper},r.a.createElement("button",{className:E.a.Button,onClick:a},"Load more"))},C=t(12),N=t.n(C),L=function(e){var a=e.url,t=e.onCloseModal;return r.a.createElement("div",{className:N.a.Overlay,onClick:t},r.a.createElement("div",{className:N.a.Modal},r.a.createElement("img",{src:a,alt:""})))},j=t(25),k=t.n(j),B=t(26),U=t.n(B),F="15725306-bc876a9032cf9c2bacf7059da",G=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return U.a.get("".concat("https://pixabay.com/api/","?key=").concat(F,"&q=").concat(e,"&page=").concat(a,"&image_type=photo&orientation=horizontal&per_page=12"))},x=function(e){return Object(m.a)(e.hits).map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}}))},P=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={images:[],page:1,isPending:!1,query:"",isModalOpen:!1,modalImageUrl:""},e.onKeyCloseModal=function(a){"Escape"===a.code&&e.setState({isModalOpen:!1,modalImageUrl:""})},e.onOpenModal=function(a){return e.setState({isModalOpen:!0,modalImageUrl:a.target.dataset.largeUrl})},e.onCloseModal=function(a){"IMG"!==a.target.tagName&&e.setState({isModalOpen:!1,modalImageUrl:""})},e.getNewQuery=function(a){e.setState({isPending:!0}),G(a).then((function(t){var n=t.data;e.setState({images:Object(m.a)(x(n)),query:a})})).catch((function(e){return console.log(e)})).finally((function(){return e.setState({isPending:!1})}))},e.loadMore=function(){e.setState({isPending:!0}),G(e.state.query,e.state.page+1).then((function(a){var t=a.data;e.setState((function(e){return{images:[].concat(Object(m.a)(e.images),Object(m.a)(x(t))),page:e.page+1}}))})).catch((function(e){return console.log(e)})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.setState({isPending:!1})}))},e.handleChange=function(a){var t=a.target,n=t.name,r=t.value;e.setState(Object(c.a)({},n,r))},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyCloseModal)}},{key:"componentWillMount",value:function(){window.removeEventListener("keydown",this.onKeyCloseModal)}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.isPending,n=e.isModalOpen,o=e.modalImageUrl;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{getNewQuery:this.getNewQuery}),!!a.length&&r.a.createElement(O,{onOpenModal:this.onOpenModal,images:a}),t&&r.a.createElement("div",{className:k.a.Loader},r.a.createElement(g.a,{type:"Oval",color:"blue",height:100,width:100})),!!a.length&&r.a.createElement(w,{handleClick:this.loadMore}),n&&r.a.createElement(L,{url:o,onCloseModal:this.onCloseModal}))}}]),t}(n.Component);l.a.render(r.a.createElement(P,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.b6ffceaa.chunk.js.map